(self.webpackChunkshop=self.webpackChunkshop||[]).push([[431],{8431:(t,e,i)=>{"use strict";i.r(e),i.d(e,{ShopModule:()=>I});var n=i(4466),o=i(4330),s=i(7709),c=i(7716),r=i(7396),a=i(8583);function p(t,e){if(1&t&&(c.TgZ(0,"div"),c._uU(1),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.hij(" ",t.selectedProduct.name,"\n")}}let l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-goods-item"]],inputs:{selectedProduct:"selectedProduct"},decls:1,vars:1,consts:[[4,"ngIf"]],template:function(t,e){1&t&&c.YNc(0,p,2,1,"div",0),2&t&&c.Q6J("ngIf",e.selectedProduct)},directives:[a.O5],styles:[""]}),t})();function d(t,e){1&t&&c._UZ(0,"app-goods-item",1),2&t&&c.Q6J("selectedProduct",e.$implicit)}let g=(()=>{class t{constructor(){this.products=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-goods-list"]],inputs:{products:"products"},decls:1,vars:1,consts:[[3,"selectedProduct",4,"ngFor","ngForOf"],[3,"selectedProduct"]],template:function(t,e){1&t&&c.YNc(0,d,1,1,"app-goods-item",0),2&t&&c.Q6J("ngForOf",e.products)},directives:[a.sg,l],styles:[""]}),t})();function u(t,e){if(1&t&&(c.TgZ(0,"div",1),c._UZ(1,"app-goods-list",2),c.qZA()),2&t){const t=e.ngIf;c.xp6(1),c.Q6J("products",t)}}let h=(()=>{class t{constructor(t,e){this.activateRoute=t,this.productService=e,this.subCategory$=new s.xQ}ngOnInit(){this.activateRoute.params.subscribe(t=>{this.productService.getSubCategory(t.categId,t.subCategId).subscribe(t=>{this.subCategory$.next(t)})})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(o.gz),c.Y36(r.M))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-category"]],decls:2,vars:3,consts:[["class","category",4,"ngIf"],[1,"category"],[3,"products"]],template:function(t,e){1&t&&(c.YNc(0,u,2,1,"div",0),c.ALo(1,"async")),2&t&&c.Q6J("ngIf",c.lcZ(1,1,e.subCategory$))},directives:[a.O5,g],pipes:[a.Ov],styles:[".category[_ngcontent-%COMP%]{min-height:40vh;display:flex;align-items:center;justify-content:center;padding-bottom:40px}"]}),t})();function m(t,e){if(1&t&&(c.TgZ(0,"div",1),c._uU(1),c.ALo(2,"json"),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.hij(" ",c.lcZ(2,1,t.product),"\n")}}let f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-detailed-info"]],inputs:{product:"product"},decls:1,vars:1,consts:[["class","product",4,"ngIf"],[1,"product"]],template:function(t,e){1&t&&c.YNc(0,m,3,3,"div",0),2&t&&c.Q6J("ngIf",e.product)},directives:[a.O5],pipes:[a.Ts],styles:[""]}),t})(),x=(()=>{class t{constructor(t,e){this.activateRoute=t,this.productService=e,this.product$=new s.xQ}ngOnInit(){this.activateRoute.params.subscribe(t=>{this.productService.getItemById(t.itemId).subscribe(t=>{this.product$.next(t)})})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(o.gz),c.Y36(r.M))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-detailed-page"]],decls:3,vars:3,consts:[[1,"detailed"],[3,"product"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"app-detailed-info",1),c.ALo(2,"async"),c.qZA()),2&t&&(c.xp6(1),c.Q6J("product",c.lcZ(2,1,e.product$)))},directives:[f],pipes:[a.Ov],styles:[".detailed[_ngcontent-%COMP%]{height:50vh;min-height:40vh;display:flex;align-items:center;justify-content:center}"]}),t})();var v=i(4272);function y(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",4),c.NdJ("click",function(){c.CHM(t);const e=c.oxw().$implicit;return c.oxw(2).clickGood(e[0].id)}),c.TgZ(1,"div",5),c._UZ(2,"img",6),c.qZA(),c.TgZ(3,"div",7),c.TgZ(4,"h3",8),c._uU(5),c.qZA(),c.TgZ(6,"p",9),c._uU(7),c.qZA(),c.TgZ(8,"p",10),c._uU(9),c.qZA(),c.qZA(),c.qZA()}if(2&t){const t=c.oxw().$implicit;c.xp6(2),c.Q6J("src",t[0].imageUrls[0],c.LSH),c.xp6(3),c.Oqu(t[0].name),c.xp6(2),c.Oqu(t[0].description),c.xp6(2),c.hij("",t[0].price," \u0440\u0443\u0431")}}function b(t,e){1&t&&c.YNc(0,y,10,4,"ng-template",3)}function w(t,e){if(1&t&&(c.TgZ(0,"ngb-carousel",1),c.YNc(1,b,1,0,void 0,2),c.qZA()),2&t){const t=c.oxw();c.Q6J("showNavigationArrows",!1)("pauseOnHover",!1),c.xp6(1),c.Q6J("ngForOf",t.items)}}let O=(()=>{class t{constructor(t,e){this.router=t,this.productService=e,this.items=[]}clickGood(t){this.router.navigate(["/main/",t])}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(o.F0),c.Y36(r.M))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-slider"]],inputs:{items:"items"},decls:1,vars:1,consts:[["class","slider",3,"showNavigationArrows","pauseOnHover",4,"ngIf"],[1,"slider",3,"showNavigationArrows","pauseOnHover"],[4,"ngFor","ngForOf"],["ngbSlide",""],[1,"slider-link",3,"click"],[1,"slider-link-img"],["alt","item[0].name",3,"src"],[1,"carousel-caption","slider-link-descr"],[1,"slider-link-descr-h3"],[1,"slider-link-descr-text"],[1,"slider-link-descr-price"]],template:function(t,e){1&t&&c.YNc(0,w,2,3,"ngb-carousel",0),2&t&&c.Q6J("ngIf",e.items&&e.items.length>0)},directives:[a.O5,v.uo,a.sg,v.xl],styles:[".slider[_ngcontent-%COMP%]{height:400px;width:80%;padding:0 5%;margin:0 auto;box-shadow:0 0 8px #0003;background:rgba(0,0,0,.075)}.slider-link[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:center;cursor:pointer}.slider-link[_ngcontent-%COMP%]:hover{text-decoration:none}.slider-link-img[_ngcontent-%COMP%]{height:100%;width:50%;display:flex;align-items:center;justify-content:center;padding:20px 20px 20px 0}.slider-link-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:320px;object-fit:scale-down}.slider-link-img-descr[_ngcontent-%COMP%]{display:flex;width:50%}.slider-link-img-descr-h3[_ngcontent-%COMP%]{color:#000!important}.carousel-item[_ngcontent-%COMP%]{width:100%;transition:transform .6s ease;-webkit-backface-visibility:hidden;backface-visibility:hidden;perspective:1000px}.carousel-caption[_ngcontent-%COMP%], .carousel-item[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}.carousel-caption[_ngcontent-%COMP%]{width:50%;height:100%;flex-direction:column;z-index:10;color:#000;right:0;bottom:0;left:0;padding:0}.carousel-control-next-icon[_ngcontent-%COMP%]{display:none!important}.slider-link-img[_ngcontent-spq-c111][_ngcontent-%COMP%]{height:100%;width:50%;display:flex;align-items:center;justify-content:center;padding-right:20px}"]}),t})();function k(t,e){if(1&t&&c._UZ(0,"img",13),2&t){const t=c.oxw().$implicit;c.Q6J("src",t.imageUrls[0],c.LSH)}}function _(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",6),c.NdJ("click",function(){const e=c.CHM(t).$implicit;return c.oxw(3).clickGood(e.id)}),c.TgZ(1,"div",7),c.YNc(2,k,1,1,"img",8),c.qZA(),c.TgZ(3,"div",9),c.TgZ(4,"p",10),c._uU(5),c.qZA(),c._UZ(6,"ngb-rating",11),c.TgZ(7,"p",12),c._uU(8),c.qZA(),c.qZA(),c.qZA()}if(2&t){const t=e.$implicit;c.oxw(3);const i=c.MAs(3);c.xp6(2),c.Q6J("ngIf",t.imageUrls[0])("ngIfElse",i),c.xp6(3),c.Oqu(t.name),c.xp6(1),c.Q6J("rate",t.rating)("readonly",!0)("max",5),c.xp6(2),c.hij("",t.price," \u0440\u0443\u0431")}}function C(t,e){if(1&t&&(c.TgZ(0,"div",4),c.YNc(1,_,9,7,"div",5),c.qZA()),2&t){const t=c.oxw().$implicit;c.xp6(1),c.Q6J("ngForOf",t)}}function Z(t,e){1&t&&c.YNc(0,C,2,1,"ng-template",3)}function M(t,e){1&t&&c._UZ(0,"img",14)}let P=(()=>{class t{constructor(t){this.router=t,this.itemsHighRating=[]}clickGood(t){this.router.navigate(["/main/",t])}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(o.F0))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-popular-goods"]],inputs:{itemsHighRating:"itemsHighRating"},decls:4,vars:2,consts:[[1,"popular",3,"interval"],[4,"ngFor","ngForOf"],["plchdr",""],["ngbSlide",""],[1,"popular-container"],["class","popular-link",3,"click",4,"ngFor","ngForOf"],[1,"popular-link",3,"click"],[1,"popular-link-img"],["alt","item[0].name",3,"src",4,"ngIf","ngIfElse"],[1,"carousel-caption","popular-link-descr"],[1,"popular-link-descr-h3"],[3,"rate","readonly","max"],[1,"popular-link-descr-price"],["alt","item[0].name",3,"src"],["src","https://via.placeholder.com/250x200","alt","placeholder"]],template:function(t,e){1&t&&(c.TgZ(0,"ngb-carousel",0),c.YNc(1,Z,1,0,void 0,1),c.qZA(),c.YNc(2,M,1,0,"ng-template",null,2,c.W1O)),2&t&&(c.Q6J("interval",2e4),c.xp6(1),c.Q6J("ngForOf",e.itemsHighRating))},directives:[v.uo,a.sg,v.xl,a.O5,v.OC],styles:[".popular[_ngcontent-%COMP%]{position:relative;justify-content:center;height:400px;padding:30px 5% 0;margin:40px auto;box-shadow:0 0 8px #0003;background:rgba(0,0,0,.075)}.popular[_ngcontent-%COMP%], .popular-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:80%}.popular-container[_ngcontent-%COMP%]{justify-content:space-between;flex-wrap:wrap;margin:0 auto}.popular-link[_ngcontent-%COMP%]{display:flex;width:30%;height:134px;align-items:center;justify-content:center;transition:all .5s;background:hsla(0,0%,100%,.795);margin-top:20px;border-radius:4px;box-sizing:border-box;font-size:12px;cursor:pointer;transition:easy .2s}.popular-link[_ngcontent-%COMP%]:hover{text-decoration:none;background-color:#fff;box-shadow:0 2px 4px #1723260d}.popular-link-img[_ngcontent-%COMP%]{max-width:100%;display:flex;align-items:center;justify-content:center;padding:20px 20px 20px 0}.popular-link-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:62px;max-width:100%;height:80px;object-fit:contain}.popular-link-descr[_ngcontent-%COMP%]{align-items:flex-start;justify-content:flex-start;width:171px}.popular-link-descr[_ngcontent-%COMP%], .popular-link-descr-h3[_ngcontent-%COMP%]{display:flex;text-align:left;font-size:12px}.popular-link-descr-h3[_ngcontent-%COMP%]{color:#000;white-space:nowrap;overflow:hidden;height:40px;max-width:100%;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.popular-link-descr[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:10px;font-weight:700}.carousel-item[_ngcontent-%COMP%]{width:100%;transition:transform .6s ease;-webkit-backface-visibility:hidden;backface-visibility:hidden;perspective:1000px}.carousel-caption[_ngcontent-%COMP%], .carousel-item[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}.carousel-caption[_ngcontent-%COMP%]{width:50%;height:100%;flex-direction:column;z-index:10;color:#000;right:0;bottom:0;left:0;padding:0}.carousel-control-next-icon[_ngcontent-%COMP%]{display:none!important}.popular-link-img[_ngcontent-spq-c111][_ngcontent-%COMP%]{height:100%;width:50%;display:flex;align-items:center;justify-content:center;padding-right:20px}"]}),t})();const A=[{path:"",component:(()=>{class t{constructor(t){this.productService=t,this.categories$=this.productService.getCategories(),this.items=[],this.itemsHighRating=[],this.itemsHighRatingSUB=new s.xQ}ngOnInit(){var t;null===(t=this.categories$)||void 0===t||t.subscribe(t=>{t.map(t=>{const e=Math.floor(Math.random()*t.subCategories.length),i=t.subCategories[e].id;this.productService.getProductsForSlider(t.id,i).subscribe(t=>{this.items.push(t)}),this.productService.getSubCategory(t.id,i).subscribe(t=>{const e=t.filter(t=>t.rating>=4);this.itemsHighRating.push(e)})})}),setTimeout(this.timeout.bind(this,this.itemsHighRating),1e3)}timeout(t){const e=[],i=this.flatting(t);for(let n=0;n<i.length;n+=6){const t=i.slice(n,n+6);t.length>=6&&e.push(t)}this.itemsHighRatingSUB.next(e)}flatting(t){const e=[];return t.forEach(t=>{e.push(...t)}),e}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(r.M))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-main"]],decls:4,vars:4,consts:[[1,"main"],[3,"items"],[3,"itemsHighRating"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"app-slider",1),c._UZ(2,"app-popular-goods",2),c.ALo(3,"async"),c.qZA()),2&t&&(c.xp6(1),c.Q6J("items",e.items),c.xp6(1),c.Q6J("itemsHighRating",c.lcZ(3,2,e.itemsHighRatingSUB)))},directives:[O,P],pipes:[a.Ov],styles:[""]}),t})()},{path:":categId/:subCategId",component:h},{path:":itemId",component:x}];let q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[o.Bz.forChild(A)],o.Bz]}),t})(),I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[n.m,q]]}),t})()}}]);