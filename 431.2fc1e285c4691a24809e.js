(self.webpackChunkshop=self.webpackChunkshop||[]).push([[431],{8431:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ShopModule:()=>M});var i=n(4466),s=n(4330),o=n(7716);let r=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-goods-item"]],decls:2,vars:0,template:function(t,e){1&t&&(o.TgZ(0,"p"),o._uU(1,"goods-item works!"),o.qZA())},styles:[""]}),t})(),c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-goods-list"]],decls:3,vars:0,template:function(t,e){1&t&&(o.TgZ(0,"p"),o._uU(1,"goods-list works!"),o.qZA(),o._UZ(2,"app-goods-item"))},directives:[r],styles:[""]}),t})(),a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-category"]],decls:3,vars:0,template:function(t,e){1&t&&(o.TgZ(0,"p"),o._uU(1,"category works!"),o.qZA(),o._UZ(2,"app-goods-list"))},directives:[c],styles:[""]}),t})(),l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-detailed-info"]],decls:2,vars:0,template:function(t,e){1&t&&(o.TgZ(0,"p"),o._uU(1,"detailed-info works!"),o.qZA())},styles:[""]}),t})(),p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-detailed-page"]],decls:3,vars:0,template:function(t,e){1&t&&(o.TgZ(0,"p"),o._uU(1,"detailed-page works!"),o.qZA(),o._UZ(2,"app-detailed-info"))},directives:[l],styles:[""]}),t})();var g=n(7709),d=n(7396),u=n(8583),m=n(4272);function h(t,e){if(1&t&&(o.TgZ(0,"a",4),o.TgZ(1,"div",5),o._UZ(2,"img",6),o.qZA(),o.TgZ(3,"div",7),o.TgZ(4,"h3",8),o._uU(5),o.qZA(),o.TgZ(6,"p",9),o._uU(7),o.qZA(),o.TgZ(8,"p",10),o._uU(9),o.qZA(),o.qZA(),o.qZA()),2&t){const t=o.oxw().$implicit;o.xp6(2),o.Q6J("src",t[0].imageUrls[0],o.LSH),o.xp6(3),o.Oqu(t[0].name),o.xp6(2),o.Oqu(t[0].description),o.xp6(2),o.hij("",t[0].price," \u0440\u0443\u0431")}}function f(t,e){1&t&&o.YNc(0,h,10,4,"ng-template",3)}function x(t,e){if(1&t&&(o.TgZ(0,"ngb-carousel",1),o.YNc(1,f,1,0,void 0,2),o.qZA()),2&t){const t=o.oxw();o.Q6J("showNavigationArrows",!1),o.xp6(1),o.Q6J("ngForOf",t.items)}}let w=(()=>{class t{constructor(){this.items=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-slider"]],inputs:{items:"items"},decls:1,vars:1,consts:[["class","slider",3,"showNavigationArrows",4,"ngIf"],[1,"slider",3,"showNavigationArrows"],[4,"ngFor","ngForOf"],["ngbSlide",""],["href","#",1,"slider-link"],[1,"slider-link-img"],["alt","item[0].name",3,"src"],[1,"carousel-caption","slider-link-descr"],[1,"slider-link-descr-h3"],[1,"slider-link-descr-text"],[1,"slider-link-descr-price"]],template:function(t,e){1&t&&o.YNc(0,x,2,2,"ngb-carousel",0),2&t&&o.Q6J("ngIf",e.items&&e.items.length>0)},directives:[u.O5,m.uo,u.sg,m.xl],styles:[".slider[_ngcontent-%COMP%]{height:400px;width:80%;padding:0 5%;margin:0 auto;box-shadow:0 0 8px #0003;background:rgba(0,0,0,.075)}.slider-link[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:center}.slider-link[_ngcontent-%COMP%]:hover{text-decoration:none}.slider-link-img[_ngcontent-%COMP%]{height:100%;width:50%;display:flex;align-items:center;justify-content:center;padding:20px 20px 20px 0}.slider-link-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:320px;object-fit:scale-down}.slider-link-img-descr[_ngcontent-%COMP%]{display:flex;width:50%}.slider-link-img-descr-h3[_ngcontent-%COMP%]{color:#000!important}.carousel-item[_ngcontent-%COMP%]{width:100%;transition:transform .6s ease;-webkit-backface-visibility:hidden;backface-visibility:hidden;perspective:1000px}.carousel-caption[_ngcontent-%COMP%], .carousel-item[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}.carousel-caption[_ngcontent-%COMP%]{width:50%;height:100%;flex-direction:column;z-index:10;color:#000;right:0;bottom:0;left:0;padding:0}.carousel-control-next-icon[_ngcontent-%COMP%]{display:none!important}.slider-link-img[_ngcontent-spq-c111][_ngcontent-%COMP%]{height:100%;width:50%;display:flex;align-items:center;justify-content:center;padding-right:20px}"]}),t})();function y(t,e){if(1&t&&o._UZ(0,"img",13),2&t){const t=o.oxw().$implicit;o.Q6J("src",t.imageUrls[0],o.LSH)}}function _(t,e){if(1&t&&(o.TgZ(0,"a",6),o.TgZ(1,"div",7),o.YNc(2,y,1,1,"img",8),o.qZA(),o.TgZ(3,"div",9),o.TgZ(4,"p",10),o._uU(5),o.qZA(),o._UZ(6,"ngb-rating",11),o.TgZ(7,"p",12),o._uU(8),o.qZA(),o.qZA(),o.qZA()),2&t){const t=e.$implicit;o.oxw(3);const n=o.MAs(3);o.xp6(2),o.Q6J("ngIf",t.imageUrls[0])("ngIfElse",n),o.xp6(3),o.Oqu(t.name),o.xp6(1),o.Q6J("rate",t.rating)("readonly",!0)("max",5),o.xp6(2),o.hij("",t.price," \u0440\u0443\u0431")}}function b(t,e){if(1&t&&(o.TgZ(0,"div",4),o.YNc(1,_,9,7,"a",5),o.qZA()),2&t){const t=o.oxw().$implicit;o.xp6(1),o.Q6J("ngForOf",t)}}function k(t,e){1&t&&o.YNc(0,b,2,1,"ng-template",3)}function O(t,e){1&t&&o._UZ(0,"img",14)}let v=(()=>{class t{constructor(){this.itemsHighRating=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-popular-goods"]],inputs:{itemsHighRating:"itemsHighRating"},decls:4,vars:1,consts:[[1,"popular"],[4,"ngFor","ngForOf"],["plchdr",""],["ngbSlide",""],[1,"popular-container"],["href","/item.id","class","popular-link",4,"ngFor","ngForOf"],["href","/item.id",1,"popular-link"],[1,"popular-link-img"],["alt","item[0].name",3,"src",4,"ngIf","ngIfElse"],[1,"carousel-caption","popular-link-descr"],[1,"popular-link-descr-h3"],[3,"rate","readonly","max"],[1,"popular-link-descr-price"],["alt","item[0].name",3,"src"],["src","https://via.placeholder.com/250x200","alt","placeholder"]],template:function(t,e){1&t&&(o.TgZ(0,"ngb-carousel",0),o.YNc(1,k,1,0,void 0,1),o.qZA(),o.YNc(2,O,1,0,"ng-template",null,2,o.W1O)),2&t&&(o.xp6(1),o.Q6J("ngForOf",e.itemsHighRating))},directives:[m.uo,u.sg,m.xl,u.O5,m.OC],styles:[".popular[_ngcontent-%COMP%]{position:relative;justify-content:center;height:400px;padding:30px 5% 0;margin:40px auto 0;box-shadow:0 0 8px #0003;background:rgba(0,0,0,.075)}.popular[_ngcontent-%COMP%], .popular-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:80%}.popular-container[_ngcontent-%COMP%]{justify-content:space-between;flex-wrap:wrap;margin:0 auto}.popular-link[_ngcontent-%COMP%]{display:flex;width:30%;height:134px;align-items:center;justify-content:center;transition:all .5s;background:hsla(0,0%,100%,.795);margin-top:20px;border-radius:4px;box-sizing:border-box;font-size:12px;transition:easy .2s}.popular-link[_ngcontent-%COMP%]:hover{text-decoration:none;background-color:#fff;box-shadow:0 2px 4px #1723260d}.popular-link-img[_ngcontent-%COMP%]{max-width:100%;display:flex;align-items:center;justify-content:center;padding:20px 20px 20px 0}.popular-link-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:62px;max-width:100%;height:80px;object-fit:contain}.popular-link-descr[_ngcontent-%COMP%]{align-items:flex-start;justify-content:flex-start;width:171px}.popular-link-descr[_ngcontent-%COMP%], .popular-link-descr-h3[_ngcontent-%COMP%]{display:flex;text-align:left;font-size:12px}.popular-link-descr-h3[_ngcontent-%COMP%]{color:#000;white-space:nowrap;overflow:hidden;height:40px;max-width:100%;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.popular-link-descr[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:10px;font-weight:700}.carousel-item[_ngcontent-%COMP%]{width:100%;transition:transform .6s ease;-webkit-backface-visibility:hidden;backface-visibility:hidden;perspective:1000px}.carousel-caption[_ngcontent-%COMP%], .carousel-item[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}.carousel-caption[_ngcontent-%COMP%]{width:50%;height:100%;flex-direction:column;z-index:10;color:#000;right:0;bottom:0;left:0;padding:0}.carousel-control-next-icon[_ngcontent-%COMP%]{display:none!important}.popular-link-img[_ngcontent-spq-c111][_ngcontent-%COMP%]{height:100%;width:50%;display:flex;align-items:center;justify-content:center;padding-right:20px}"]}),t})();const Z=[{path:"",component:(()=>{class t{constructor(t){this.productService=t,this.categories$=this.productService.getCategories(),this.items=[],this.itemsHighRating=[],this.itemsHighRatingSUB=new g.xQ}ngOnInit(){var t;null===(t=this.categories$)||void 0===t||t.subscribe(t=>{t.map(t=>{const e=Math.floor(Math.random()*t.subCategories.length),n=t.subCategories[e].id;this.productService.getProductsForSlider(t.id,n).subscribe(t=>{this.items.push(t)}),this.productService.getSubCategory(t.id,n).subscribe(t=>{const e=t.filter(t=>t.rating>=4);this.itemsHighRating.push(e)})})}),setTimeout(this.timeout.bind(this,this.itemsHighRating),1e3)}timeout(t){const e=[],n=this.flatting(t);for(let i=0;i<n.length;i+=6){const t=n.slice(i,i+6);t.length>=6&&e.push(t)}this.itemsHighRatingSUB.next(e)}flatting(t){const e=[];return t.forEach(t=>{e.push(...t)}),e}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(d.M))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-main"]],decls:3,vars:4,consts:[[3,"items"],[3,"itemsHighRating"]],template:function(t,e){1&t&&(o._UZ(0,"app-slider",0),o._UZ(1,"app-popular-goods",1),o.ALo(2,"async")),2&t&&(o.Q6J("items",e.items),o.xp6(1),o.Q6J("itemsHighRating",o.lcZ(2,2,e.itemsHighRatingSUB)))},directives:[w,v],pipes:[u.Ov],styles:[""]}),t})()},{path:":categId",component:a},{path:"detailed/:itemId",component:p}];let C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[s.Bz.forChild(Z)],s.Bz]}),t})(),M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[i.m,C]]}),t})()}}]);