(self.webpackChunkshop=self.webpackChunkshop||[]).push([[431],{8431:(t,e,i)=>{"use strict";i.r(e),i.d(e,{ShopModule:()=>J});var n=i(4466),o=i(4330),c=i(7709),r=i(7716),s=i(7396),a=i(8583);function l(t,e){if(1&t&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.hij(" ",t.selectedProduct.name,"\n")}}let p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-goods-item"]],inputs:{selectedProduct:"selectedProduct"},decls:1,vars:1,consts:[[4,"ngIf"]],template:function(t,e){1&t&&r.YNc(0,l,2,1,"div",0),2&t&&r.Q6J("ngIf",e.selectedProduct)},directives:[a.O5],styles:[""]}),t})();function d(t,e){1&t&&r._UZ(0,"app-goods-item",1),2&t&&r.Q6J("selectedProduct",e.$implicit)}let g=(()=>{class t{constructor(){this.products=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-goods-list"]],inputs:{products:"products"},decls:1,vars:1,consts:[[3,"selectedProduct",4,"ngFor","ngForOf"],[3,"selectedProduct"]],template:function(t,e){1&t&&r.YNc(0,d,1,1,"app-goods-item",0),2&t&&r.Q6J("ngForOf",e.products)},directives:[a.sg,p],styles:[""]}),t})();function u(t,e){if(1&t&&(r.TgZ(0,"div",1),r._UZ(1,"app-goods-list",2),r.qZA()),2&t){const t=e.ngIf;r.xp6(1),r.Q6J("products",t)}}let h=(()=>{class t{constructor(t,e){this.activateRoute=t,this.productService=e,this.subCategory$=new c.xQ}ngOnInit(){this.activateRoute.params.subscribe(t=>{this.productService.getSubCategory(t.categId,t.subCategId).subscribe(t=>{this.subCategory$.next(t)})})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(o.gz),r.Y36(s.M))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-category"]],decls:2,vars:3,consts:[["class","category",4,"ngIf"],[1,"category"],[3,"products"]],template:function(t,e){1&t&&(r.YNc(0,u,2,1,"div",0),r.ALo(1,"async")),2&t&&r.Q6J("ngIf",r.lcZ(1,1,e.subCategory$))},directives:[a.O5,g],pipes:[a.Ov],styles:[".category[_ngcontent-%COMP%]{min-height:40vh;display:flex;align-items:center;justify-content:center;padding-bottom:40px}"]}),t})();var m=i(4272);function f(t,e){if(1&t&&(r.TgZ(0,"li",3),r.TgZ(1,"span",12),r._uU(2),r.qZA(),r.qZA()),2&t){const t=e.ngIf;r.xp6(2),r.Oqu(t.name)}}function x(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",3),r.TgZ(1,"span",13),r.NdJ("click",function(){const e=r.CHM(t).ngIf;return r.oxw(2).onClick(e.id)}),r._uU(2),r.qZA(),r.qZA()}if(2&t){const t=e.ngIf;r.xp6(2),r.Oqu(t.name)}}function b(t,e){if(1&t&&(r.TgZ(0,"div",15),r.TgZ(1,"div",16),r._UZ(2,"img",17),r.qZA(),r.qZA()),2&t){const t=r.oxw().$implicit;r.xp6(2),r.Q6J("src",t,r.LSH)}}function v(t,e){1&t&&r.YNc(0,b,3,1,"ng-template",14)}function y(t,e){if(1&t&&(r.TgZ(0,"div",1),r.TgZ(1,"ul",2),r.TgZ(2,"li",3),r.TgZ(3,"a",4),r._uU(4,"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),r.qZA(),r.qZA(),r.YNc(5,f,3,1,"li",5),r.ALo(6,"async"),r.YNc(7,x,3,1,"li",5),r.ALo(8,"async"),r.qZA(),r.TgZ(9,"div",6),r.TgZ(10,"div",7),r._uU(11),r.qZA(),r.qZA(),r.TgZ(12,"div",8),r.TgZ(13,"ngb-carousel",9),r.YNc(14,v,1,0,void 0,10),r.qZA(),r.qZA(),r.TgZ(15,"div",11),r._uU(16),r.qZA(),r.TgZ(17,"div",11),r._uU(18),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(5),r.Q6J("ngIf",r.lcZ(6,6,t.category$)),r.xp6(2),r.Q6J("ngIf",r.lcZ(8,8,t.sub$)),r.xp6(4),r.Oqu(t.product.name),r.xp6(3),r.Q6J("ngForOf",t.product.imageUrls),r.xp6(2),r.hij("",t.product.price," \u0440\u0443\u0431\u043b\u0435\u0439"),r.xp6(2),r.Oqu(t.product.description)}}let w=(()=>{class t{constructor(t,e){this.productService=t,this.router=e,this.category$=new c.xQ,this.sub$=new c.xQ,this.catId=""}ngOnInit(){this.productService.getCategories().subscribe(t=>{t.forEach(t=>{t.subCategories.forEach(e=>{this.productService.getSubCategory(t.id,e.id).subscribe(i=>{i.filter(t=>{var e;return t.id===(null===(e=this.product)||void 0===e?void 0:e.id)})[0]&&(this.sub$.next(e),this.category$.next(t))})})})}),this.category$.subscribe(t=>{this.catId=t.id})}onClick(t){this.router.navigate(["/main/",this.catId,t])}ngOnDestroy(){this.category$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(s.M),r.Y36(o.F0))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-detailed-info"]],inputs:{product:"product"},decls:1,vars:1,consts:[["class","product-wrapper",4,"ngIf"],[1,"product-wrapper"],[1,"breadcrumbs"],[1,"breadcrumbs-item"],["routerLink","/main",1,"breadcrumbs-link"],["class","breadcrumbs-item",4,"ngIf"],[1,"content"],[1,"content__header"],[1,"product-interaction"],[1,"product-slider"],[4,"ngFor","ngForOf"],[1,"div"],[1,"breadcrumbs-link-span"],[1,"breadcrumbs-link",3,"click"],["ngbSlide",""],[1,"product-slider-link"],[1,"product-slider-link-img"],["alt","product image",3,"src"]],template:function(t,e){1&t&&r.YNc(0,y,19,10,"div",0),2&t&&r.Q6J("ngIf",e.product)},directives:[a.O5,o.yS,m.uo,a.sg,m.xl],pipes:[a.Ov],styles:[".product-wrapper[_ngcontent-%COMP%]{min-width:80%;max-width:1140px;overflow:hidden;margin:0 auto 30px}.breadcrumbs[_ngcontent-%COMP%]{clear:both;display:inline-block;list-style-type:none}.breadcrumbs-item[_ngcontent-%COMP%]{display:inline-block;padding:0 .5em 0 .75em;background:url(https://www.21vek.by/img/breadcrumbs_separator.gif) no-repeat 0 80%;line-height:1}.breadcrumbs-item[_ngcontent-%COMP%]:first-child{padding-left:0;background:none}.breadcrumbs-link[_ngcontent-%COMP%]{font-size:11px;color:#717171;text-decoration:underline;cursor:pointer}.breadcrumbs-link[_ngcontent-%COMP%]:hover{color:#bc1242;text-shadow:none}.breadcrumbs-link-span[_ngcontent-%COMP%]{font-size:11px;color:#717171;text-decoration:underline;cursor:default}.content__header[_ngcontent-%COMP%]{clear:both;padding:18px 0 4px;font-size:30px;font-family:FuturaDemi,Arial,sans-serif;-webkit-font-smoothing:antialiased;line-height:1;vertical-align:initial}.product-slider[_ngcontent-%COMP%]{height:400px;width:70%;padding:0 5%;margin:24px 0;box-shadow:0 0 8px #0003;background:hsla(0,0%,58%,.267);border-radius:5px}.product-slider-link[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:center;cursor:pointer}.product-slider-link[_ngcontent-%COMP%]:hover{text-decoration:none}.product-slider-link-img[_ngcontent-%COMP%]{height:100%;width:50%;display:flex;align-items:center;justify-content:center;padding:20px 20px 20px 0}.product-slider-link[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:320px;object-fit:scale-down}"]}),t})(),O=(()=>{class t{constructor(t,e){this.activateRoute=t,this.productService=e,this.product$=new c.xQ}ngOnInit(){this.activateRoute.params.subscribe(t=>{this.productService.getItemById(t.itemId).subscribe(t=>{this.product$.next(t)})})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(o.gz),r.Y36(s.M))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-detailed-page"]],decls:3,vars:3,consts:[[1,"detailed"],[3,"product"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r._UZ(1,"app-detailed-info",1),r.ALo(2,"async"),r.qZA()),2&t&&(r.xp6(1),r.Q6J("product",r.lcZ(2,1,e.product$)))},directives:[w],pipes:[a.Ov],styles:[".detailed[_ngcontent-%COMP%]{min-height:40vh;display:flex;justify-content:center}"]}),t})();function Z(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",4),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw(2).clickGood(e[0].id)}),r.TgZ(1,"div",5),r._UZ(2,"img",6),r.qZA(),r.TgZ(3,"div",7),r.TgZ(4,"h3",8),r._uU(5),r.qZA(),r.TgZ(6,"p",9),r._uU(7),r.qZA(),r.TgZ(8,"p",10),r._uU(9),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw().$implicit;r.xp6(2),r.Q6J("src",t[0].imageUrls[0],r.LSH),r.xp6(3),r.Oqu(t[0].name),r.xp6(2),r.Oqu(t[0].description),r.xp6(2),r.hij("",t[0].price," \u0440\u0443\u0431")}}function k(t,e){1&t&&r.YNc(0,Z,10,4,"ng-template",3)}function _(t,e){if(1&t&&(r.TgZ(0,"ngb-carousel",1),r.YNc(1,k,1,0,void 0,2),r.qZA()),2&t){const t=r.oxw();r.Q6J("showNavigationArrows",!1)("pauseOnHover",!1),r.xp6(1),r.Q6J("ngForOf",t.items)}}let C=(()=>{class t{constructor(t,e){this.router=t,this.productService=e,this.items=[]}clickGood(t){this.router.navigate(["/main/",t])}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(o.F0),r.Y36(s.M))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-slider"]],inputs:{items:"items"},decls:1,vars:1,consts:[["class","slider",3,"showNavigationArrows","pauseOnHover",4,"ngIf"],[1,"slider",3,"showNavigationArrows","pauseOnHover"],[4,"ngFor","ngForOf"],["ngbSlide",""],[1,"slider-link",3,"click"],[1,"slider-link-img"],["alt","item[0].name",3,"src"],[1,"carousel-caption","slider-link-descr"],[1,"slider-link-descr-h3"],[1,"slider-link-descr-text"],[1,"slider-link-descr-price"]],template:function(t,e){1&t&&r.YNc(0,_,2,3,"ngb-carousel",0),2&t&&r.Q6J("ngIf",e.items&&e.items.length>0)},directives:[a.O5,m.uo,a.sg,m.xl],styles:[".slider[_ngcontent-%COMP%]{height:400px;width:80%;padding:0 5%;margin:0 auto;box-shadow:0 0 8px #0003;background:rgba(0,0,0,.075)}.slider-link[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:center;cursor:pointer}.slider-link[_ngcontent-%COMP%]:hover{text-decoration:none}.slider-link-img[_ngcontent-%COMP%]{height:100%;width:50%;display:flex;align-items:center;justify-content:center;padding:20px 20px 20px 0}.slider-link-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:320px;object-fit:scale-down}.slider-link-img-descr[_ngcontent-%COMP%]{display:flex;width:50%}.slider-link-img-descr-h3[_ngcontent-%COMP%]{color:#000!important}.carousel-item[_ngcontent-%COMP%]{width:100%;transition:transform .6s ease;-webkit-backface-visibility:hidden;backface-visibility:hidden;perspective:1000px}.carousel-caption[_ngcontent-%COMP%], .carousel-item[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}.carousel-caption[_ngcontent-%COMP%]{width:50%;height:100%;flex-direction:column;z-index:10;color:#000;right:0;bottom:0;left:0;padding:0}.carousel-control-next-icon[_ngcontent-%COMP%]{display:none!important}.slider-link-img[_ngcontent-spq-c111][_ngcontent-%COMP%]{height:100%;width:50%;display:flex;align-items:center;justify-content:center;padding-right:20px}"]}),t})();function M(t,e){if(1&t&&r._UZ(0,"img",13),2&t){const t=r.oxw().$implicit;r.Q6J("src",t.imageUrls[0],r.LSH)}}function P(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",6),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw(3).clickGood(e.id)}),r.TgZ(1,"div",7),r.YNc(2,M,1,1,"img",8),r.qZA(),r.TgZ(3,"div",9),r.TgZ(4,"p",10),r._uU(5),r.qZA(),r._UZ(6,"ngb-rating",11),r.TgZ(7,"p",12),r._uU(8),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.oxw(3);const i=r.MAs(3);r.xp6(2),r.Q6J("ngIf",t.imageUrls[0])("ngIfElse",i),r.xp6(3),r.Oqu(t.name),r.xp6(1),r.Q6J("rate",t.rating)("readonly",!0)("max",5),r.xp6(2),r.hij("",t.price," \u0440\u0443\u0431")}}function A(t,e){if(1&t&&(r.TgZ(0,"div",4),r.YNc(1,P,9,7,"div",5),r.qZA()),2&t){const t=r.oxw().$implicit;r.xp6(1),r.Q6J("ngForOf",t)}}function q(t,e){1&t&&r.YNc(0,A,2,1,"ng-template",3)}function T(t,e){1&t&&r._UZ(0,"img",14)}let I=(()=>{class t{constructor(t){this.router=t,this.itemsHighRating=[]}clickGood(t){this.router.navigate(["/main/",t])}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(o.F0))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-popular-goods"]],inputs:{itemsHighRating:"itemsHighRating"},decls:4,vars:2,consts:[[1,"popular",3,"interval"],[4,"ngFor","ngForOf"],["plchdr",""],["ngbSlide",""],[1,"popular-container"],["class","popular-link",3,"click",4,"ngFor","ngForOf"],[1,"popular-link",3,"click"],[1,"popular-link-img"],["alt","item[0].name",3,"src",4,"ngIf","ngIfElse"],[1,"carousel-caption","popular-link-descr"],[1,"popular-link-descr-h3"],[3,"rate","readonly","max"],[1,"popular-link-descr-price"],["alt","item[0].name",3,"src"],["src","https://via.placeholder.com/250x200","alt","placeholder"]],template:function(t,e){1&t&&(r.TgZ(0,"ngb-carousel",0),r.YNc(1,q,1,0,void 0,1),r.qZA(),r.YNc(2,T,1,0,"ng-template",null,2,r.W1O)),2&t&&(r.Q6J("interval",2e4),r.xp6(1),r.Q6J("ngForOf",e.itemsHighRating))},directives:[m.uo,a.sg,m.xl,a.O5,m.OC],styles:[".popular[_ngcontent-%COMP%]{position:relative;justify-content:center;height:400px;padding:30px 5% 0;margin:40px auto;box-shadow:0 0 8px #0003;background:rgba(0,0,0,.075)}.popular[_ngcontent-%COMP%], .popular-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:80%}.popular-container[_ngcontent-%COMP%]{justify-content:space-between;flex-wrap:wrap;margin:0 auto}.popular-link[_ngcontent-%COMP%]{display:flex;width:30%;height:134px;align-items:center;justify-content:center;transition:all .5s;background:hsla(0,0%,100%,.795);margin-top:20px;border-radius:4px;box-sizing:border-box;font-size:12px;cursor:pointer;transition:easy .2s}.popular-link[_ngcontent-%COMP%]:hover{text-decoration:none;background-color:#fff;box-shadow:0 2px 4px #1723260d}.popular-link-img[_ngcontent-%COMP%]{max-width:100%;display:flex;align-items:center;justify-content:center;padding:20px 20px 20px 0}.popular-link-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:62px;max-width:100%;height:80px;object-fit:contain}.popular-link-descr[_ngcontent-%COMP%]{align-items:flex-start;justify-content:flex-start;width:171px}.popular-link-descr[_ngcontent-%COMP%], .popular-link-descr-h3[_ngcontent-%COMP%]{display:flex;text-align:left;font-size:12px}.popular-link-descr-h3[_ngcontent-%COMP%]{color:#000;white-space:nowrap;overflow:hidden;height:40px;max-width:100%;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.popular-link-descr[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:10px;font-weight:700}.carousel-item[_ngcontent-%COMP%]{width:100%;transition:transform .6s ease;-webkit-backface-visibility:hidden;backface-visibility:hidden;perspective:1000px}.carousel-caption[_ngcontent-%COMP%], .carousel-item[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}.carousel-caption[_ngcontent-%COMP%]{width:50%;height:100%;flex-direction:column;z-index:10;color:#000;right:0;bottom:0;left:0;padding:0}.carousel-control-next-icon[_ngcontent-%COMP%]{display:none!important}.popular-link-img[_ngcontent-spq-c111][_ngcontent-%COMP%]{height:100%;width:50%;display:flex;align-items:center;justify-content:center;padding-right:20px}"]}),t})();const S=[{path:"",component:(()=>{class t{constructor(t){this.productService=t,this.categories$=this.productService.getCategories(),this.items=[],this.itemsHighRating=[],this.itemsHighRatingSUB=new c.xQ}ngOnInit(){var t;null===(t=this.categories$)||void 0===t||t.subscribe(t=>{t.map(t=>{const e=Math.floor(Math.random()*t.subCategories.length),i=t.subCategories[e].id;this.productService.getProductsForSlider(t.id,i).subscribe(t=>{this.items.push(t)}),this.productService.getSubCategory(t.id,i).subscribe(t=>{const e=t.filter(t=>t.rating>=4);this.itemsHighRating.push(e)})})}),setTimeout(this.timeout.bind(this,this.itemsHighRating),1e3)}timeout(t){const e=[],i=this.flatting(t);for(let n=0;n<i.length;n+=6){const t=i.slice(n,n+6);t.length>=6&&e.push(t)}this.itemsHighRatingSUB.next(e)}flatting(t){const e=[];return t.forEach(t=>{e.push(...t)}),e}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(s.M))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-main"]],decls:4,vars:4,consts:[[1,"main"],[3,"items"],[3,"itemsHighRating"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r._UZ(1,"app-slider",1),r._UZ(2,"app-popular-goods",2),r.ALo(3,"async"),r.qZA()),2&t&&(r.xp6(1),r.Q6J("items",e.items),r.xp6(1),r.Q6J("itemsHighRating",r.lcZ(3,2,e.itemsHighRatingSUB)))},directives:[C,I],pipes:[a.Ov],styles:[""]}),t})()},{path:":categId/:subCategId",component:h},{path:":itemId",component:O}];let U=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[o.Bz.forChild(S)],o.Bz]}),t})(),J=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[n.m,U]]}),t})()}}]);